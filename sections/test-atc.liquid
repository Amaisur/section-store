
{% assign collection = section.settings.collection %}
{% for product in collection.products %}
  <div class="test-atc-product">
    <h2 class="product-d5" data-id="{{ product.id }}">{{ product.title }}</h2>
    <button class="atc-button">Add to Cart</button>
  </div>
{% endfor %}


<script>
  var mainProduct = document.querySelectorAll('.test-atc-product');

  mainProduct.forEach(product => {
    product.querySelector('.atc-button').addEventListener('click', () => {
      alert('added')
    })
  })

  
</script>



{% schema %}
  {
    "name": "Test ATC",
    "settings": [
      {
        "type": "collection",
        "id": "collection",
        "label": "Collection"
      }
    ],
    "presets": [
      {
        "name": "TEST ATC"
      }
    ]
  }
{% endschema %}